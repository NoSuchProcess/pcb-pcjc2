Bottom: fd91be76d9514657df03f58ea758fd27ca10b3b7
Top:    fd91be76d9514657df03f58ea758fd27ca10b3b7
Author: Peter Clifton <peter@clifton-electronics.co.uk>
Date:   2015-01-11 15:42:12 +0000

Split pin/via shape and hole drawing into different functions

Mostly we only need to draw one at once, and using the same function for both is
unnecessarily complicated.

** Known to break rendering of the thin outline around a pure drill-hole
   when not viewing in THINDRAW or THINDRAWPOLY mode. This is because the old
   monolithic pin/via drawing routine would re-draw that otline on top of the
   masked out drill region.

   With this, either we need to have the fill_pcb_pv_hole() routine temporarily
   setup and draw in the foreground colour, OR.. a third (or re-ordered) pass
   needs to be made for highlighting the rim of a pure hole in normal view mode.

   This must not be done of course, exporters requiring physical object accuracy.

   OpenGL (with its stencil based sub-compositing) will need a different render
   order (if sub-compositing is turned on) than say, the GDK or X11 based HIDs
   which don't have any transparency, and just paint in Z-order of visible feature.


---


