Bottom: a06cca4299256200b8539c791eaed27c80ae95f2
Top:    e0e20d9148ab7a7463ac86a01e02423eb14837c0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   2010-11-09 19:05:31 +0000

Tmp


---

diff --git a/src/hid/gtk/gtkhid-gl.c b/src/hid/gtk/gtkhid-gl.c
index afd0b86..4ed5821 100644
--- a/src/hid/gtk/gtkhid-gl.c
+++ b/src/hid/gtk/gtkhid-gl.c
@@ -1625,11 +1625,9 @@ ghid_draw_everything (BoxTypePtr drawn_area)
 
   save_show_solder = Settings.ShowSolderSide;
 
-  if (reverse_layers)
-    Settings.ShowSolderSide = !Settings.ShowSolderSide;
+  if (!global_view_2d)
+    Settings.ShowSolderSide = reverse_layers;
 
-  if (!global_view_2d && save_show_solder)
-    reverse_layers = !reverse_layers;
   PCB->Data->SILKLAYER.Color = PCB->ElementColor;
   PCB->Data->BACKSILKLAYER.Color = PCB->InvisibleObjectsColor;
